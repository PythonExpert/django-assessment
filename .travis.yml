sudo: false
language: python
python:
  - "3.4"

cache: false

install:
  - pip install coveralls
  - pip install -e .

addons:
  sonarqube:
    token:
      secure: $SONAR_TOKEN
  branches:
    - master

script:
  - coverage run `which django-admin.py` test
  - sonarcloud

notifications:
  email: false

branches:
  only:
    - master
    - development

after_success:
  - coveralls
